<!--The content below is only a placeholder and can be replaced.-->
<div class="container">
  <contact-list></contact-list>
</div>
<div style="text-align:center">
  <h1>
    Welcome to the {{title}}!
  </h1>
  <img width="300" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==">
</div>
<div>
  <label>Test Form: </label>
  <input [(ngModel)]="testfile.name" placeholder="Placeholder">
</div>
<div>
  <h1>Upload your file here:</h1>
    <form ng-controller = "myCtrl">
       <input type = "file" file-model="files" multiple/>
       <button ng-click = "uploadFile()">Upload</button>
       <li ng-repeat="file in files">{{file.name}}</li>
    </form>
    <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script>
      angular.module('myApp', []).directive('fileModel', ['$parse', function ($parse) {
          return {
             restrict: 'A',
             link: function(scope, element, attrs) {
                element.bind('change', function(){
                $parse(attrs.fileModel).assign(scope,element[0].files)
                   scope.$apply();
                });
             }
          };
       }]).controller('myCtrl', ['$scope', '$http', function($scope, $http){


         $scope.uploadFile=function(){
         var fd=new FormData();
          console.log($scope.files);
          angular.forEach($scope.files,function(file){
          fd.append('file',file);
          });
         $http.post('http://localhost:1337/mediaobject/upload',fd,
                                                              {
                                                              transformRequest: angular.identity,
                                                              headers: {'Content-Type': undefined}
                                                              }).success(function(d){
                                                              console.log(d);
                                                              })


         }
       }]);

    </script>
</div>
<div>
  <h1>Click here to navigate uploaded files.</h1>
  <h2>My Files</h2>
    <ul class="files">
      <!-- each file goes here -->
      <li *ngFor="let file of files">
        <span class="badge">{{file.id}}</span>
        {{file.name}}
      </li>
    </ul>
</div>
  <h2>Angular reference links: </h2>
  <ul>
    <li>
      <h2><a target="_blank" rel="noopener" href="https://angular.io/tutorial">Tour of Heroes</a></h2>
    </li>
    <li>
      <h2><a target="_blank" rel="noopener" href="https://github.com/angular/angular-cli/wiki">CLI Documentation</a></h2>
    </li>
    <li>
      <h2><a target="_blank" rel="noopener" href="https://blog.angular.io/">Angular blog</a></h2>
    </li>
  </ul>

