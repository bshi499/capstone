<p>
  home works!
</p>
<h1>
  {{homeTitle}}
</h1>
<div>
  <h1>Upload your file here:</h1>
  <form ng-controller = "myCtrl">
     <input type = "file" file-model="files" multiple/>
     <button ng-click = "uploadFile()">Upload</button>
     <li ng-repeat="file in files">{{file.name}}</li>
  </form>
  <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <script>
    angular.module('myApp', []).directive('fileModel', ['$parse', function ($parse) {
      return {
        restrict: 'A',
          link: function(scope, element, attrs) {
            element.bind('change', function(){
              $parse(attrs.fileModel).assign(scope,element[0].files)
                scope.$apply();
            });
          }
        };
     }]).controller('myCtrl', ['$scope', '$http', function($scope, $http){
       $scope.uploadFile=function(){
         var fd=new FormData();
         console.log($scope.files);
         angular.forEach($scope.files,function(file){
           fd.append('file',file);
         });
         $http.post('http://localhost:1337/mediaobject/upload',fd,
                                                            {
                                                            transformRequest: angular.identity,
                                                            headers: {'Content-Type': undefined}
                                                            }).success(function(d){
                                                            console.log(d);
                                                            })
                                                          }
    }]);
  </script>
  <form>
    <input id="upload" type=file accept=".txt" name="files[]" size=30>
  </form>

  <textarea class="form-control" rows=15 cols=120 id="ms_word_filtered_html"></textarea>

  <script>
  function handleFileSelect(evt) {
      var files = evt.target.files; // FileList object

      // use the 1st file from the list
      f = files[0];

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
          return function(e) {

            jQuery( '#ms_word_filtered_html' ).val( e.target.result );
          };
        })(f);

        // Read in the image file as a data URL.
        reader.readAsText(f);
    }

    document.getElementById('upload').addEventListener('change', handleFileSelect, false);
  </script>
</div>

<!--This command displays material from the calling component-->
<ng-content></ng-content>
<!-- property binding -->
<p>
  <input value="{{myString}}" />
  <input required="{{myBoolean}}" />
  <button (click)="alertMe()">Click me</button>
</p>
<label>Name:</label>
<input [(ngModel)]="file2.name" />
<p>{{file2.name}}</p>
<label>Body:</label>
<input [(ngModel)]="file2.body" />
<p>{{file2.body}}</p>
<div></div>
<br />
<!-- <h1>Testing custom binding using @Input.</h1>
<p>{{file.name}}</p>
<p>{{file.body}}</p>
<br /> -->
<h1>Testing custom binding using @Output.</h1>
<button (click)="fireYellEvent($event)">Click to call yell function.</button>
<p></p>
<br />
